(this["webpackJsonpplanets-game-origin-202001"]=this["webpackJsonpplanets-game-origin-202001"]||[]).push([[0],{167:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=(a(79),a(80),a(28));function u(e,t){return{text:t.text}}var i="alert/DELETE_ALERT";function s(){return{type:i}}var m="alert/REPLACE_ALERT";function d(e){return{type:m,text:e}}var p=a(175);var f=new WeakSet;function E(e){return function(t,a){return function e(t){return"object"===typeof t&&!f.has(t)&&t&&(f.add(t),Object.keys(t).forEach((function(a){var n=t[a];"object"===typeof n&&n!==t[a]&&(t[a]=e(n))}))),Object.freeze(t),t}(e(t,a))}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",a="string"===typeof t?function(e){return e[t]}:t,n={};return e.forEach((function(e){var t=a(e),r=n[t];r||(r=[],n[t]=r),r.push(e)})),n}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",a="string"===typeof t?function(e){return e[t]}:t,n={};return e.forEach((function(e){var t=a(e);n[t]=e})),n}function g(e,t){void 0===t&&(t=e,e=0);for(var a=[],n=0;n<t;n+=1)a.push(n+e);return a}function y(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];if(!e)throw new Error("The actionCreator is not a function");var c=Object(o.b)(),l=Object(n.useCallback)((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var l=e.apply(void 0,a.concat(n));c(l)}),[e].concat(a));return l}var h=a(6);function O(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var c=Object(n.useCallback)((function(t){return e.apply(void 0,[t].concat(a))}),[e].concat(a)),l=Object(o.c)(c);return l}function w(){var e=O(C),t=y(s);return e?r.a.createElement("div",{onClick:t,"data-testid":"alert-bar"},r.a.createElement(p.a,{onClose:t,dismissible:!0},e.text)):null}function C(e){return e.alert}var j={default:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return null;case m:return u(0,t);default:return e}}};function k(e){return{type:"blog/FETCH_POST",postId:e}}function x(){return{type:"blog/FETCH_POST_LIST"}}function I(e){return{type:"blog/SET_POST",post:e}}var S=a(25),L=a(8);function T(e,t){var a=t.post,n=a.id;return Object(L.a)({},e,Object(S.a)({},n,Object(L.a)({},e[n],{},a)))}var N=a(5),P=a.n(N),_={get:function(e,t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P.a.awrap(fetch(e,Object(L.a)({method:"GET",headers:Object(L.a)({"Content-Type":"application/json; charset=utf-8"},t&&t.headers)},t)));case 2:return a=r.sent,r.next=5,P.a.awrap(a.json());case 5:if(n=r.sent,a.ok){r.next=8;break}return r.abrupt("return",Promise.reject({status:a.status,data:n}));case 8:return r.abrupt("return",n);case 9:case"end":return r.stop()}}))},put:function(e,t,a){return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",_.get(e,Object(L.a)({method:"PUT",body:JSON.stringify(t)},a)));case 1:case"end":return n.stop()}}))},post:function(e,t,a){return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",_.get(e,Object(L.a)({method:"POST",body:JSON.stringify(t)},a)));case 1:case"end":return n.stop()}}))},delete:function(e,t){return P.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",_.get(e,Object(L.a)({method:"DELETE"},t)));case 1:case"end":return a.stop()}}))}},B=_;function G(e,t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.postId,r.next=3,P.a.awrap(B.get("/api/v1/posts/".concat(a)));case 3:(n=r.sent).body=n.body.split("\n").filter((function(e){return!/^\s*<!--.*-->\s*$/.test(e)})).join("\n"),e.dispatch(I(n));case 6:case"end":return r.stop()}}))}function F(e,t){var a;return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(B.get("/api/v1/posts"));case 2:a=t.sent,a.list.forEach((function(t){return e.dispatch(I(t))}));case 5:case"end":return t.stop()}}))}function H(e){return e.blog}function A(e,t){var a=t.postId;return H(e)[a]}var M=a(20);function D(e,t){return e.id<t.id?1:e.id>t.id?-1:0}var R=Object(M.a)(H,(function(e){return Object.values(e).sort(D)})),W={default:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"blog/SET_POST":return T(e,t);default:return e}},middleware:function(e){return function(t){return function(a){return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t(a),n.t0=a.type,n.next="blog/FETCH_POST"===n.t0?4:"blog/FETCH_POST_LIST"===n.t0?5:6;break;case 4:return n.abrupt("return",G(e,a));case 5:return n.abrupt("return",F(e));case 6:case"end":return n.stop()}}))}}}};function z(e){return{type:"game/FETCH",playerId:e}}function U(e){return{type:"game/LOGIN",playerId:e}}function V(){return{type:"game/LOGOUT"}}function X(e,t){return{type:"game/NEW",mapCode:e,players:t}}function J(e){return{type:"game/REPLACE",game:e}}function q(e,t){return t.game}function Y(e){return e.game}function $(e){var t=Y(e);return t&&t.entities}var K=Object(M.a)($,(function(e){return v(e,(function(e){return"".concat(e.row,",").concat(e.column)}))})),Q=[];function Z(e,t){var a=t.row,n=t.column;return K(e)["".concat(a,",").concat(n)]||Q}var ee=Object(M.a)(Z,(function(e){return v(e,"type")}));function te(e){var t=Y(e);return t&&t.map}function ae(e){var t=Y(e);return t&&t.messages}function ne(e){var t=Y(e);return t&&t.playerId}function re(e){var t=Y(e);return t&&t.race}function ce(e){var t=te(e);return t&&t.turnNumber}function le(e){return!!ne(e)}var oe={default:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"game/LOGOUT":return{};case"game/REPLACE":return q(0,t);default:return e}},middleware:function(e){return function(t){return function(a){switch(t(a),a.type){case"game/FETCH":return function(e,t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.playerId,r.next=3,P.a.awrap(B.get("/api/v1/players/".concat(a)));case 3:n=r.sent,e.dispatch(J(n));case 5:case"end":return r.stop()}}))}(e,a);case"game/LOGIN":return function(e,t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:a=t.playerId,e.dispatch(z(a));case 2:case"end":return n.stop()}}))}(e,a);case"game/NEW":return function(e,t){var a,n,r;return P.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=t.mapCode,n=t.players,c.prev=1,c.next=4,P.a.awrap(B.put("/api/v1/game",{mapCode:a,players:n}));case 4:(r=c.sent).playerId?(e.dispatch(J(r)),e.dispatch(d("Game ready to play"))):e.dispatch(d("Game created successfully")),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(1),e.dispatch(d(c.t0.data.message));case 11:case"end":return c.stop()}}),null,null,[[1,8]])}(e,a)}}}}};function ue(){return{type:"game/COMPILE"}}function ie(){return{type:"gameCommands/NEXT_PLAYER"}}function se(){return{type:"gameCommands/SAVE"}}function me(e,t,a){return{type:"gameCommands/SET",command:{entityId:e,type:t,value:a}}}function de(e,t){var a=v(t.game.commands,"entityId");return Object.keys(a).forEach((function(e){a[e]=b(a[e],"type")})),a}function pe(e,t){var a=t.command,n=a.entityId,r=a.type;return Object(L.a)({},e,Object(S.a)({},n,Object(L.a)({},e[n],Object(S.a)({},r,Object(L.a)({},e[n]&&e[n][r],{},a)))))}function fe(e){return e.gameCommands}var Ee={};function ve(e,t){var a=t.entityId,n=t.type;return function(e,t){var a=t.entityId;return fe(e)[a]||Ee}(e,{entityId:a})[n]}function be(e,t){return e.entityId<t.entityId?-1:e.entityId>t.entityId?1:e.type<t.type?-1:e.type>t.type?1:0}var ge=Object(M.a)(fe,(function(e){return Object.keys(e).flatMap((function(t){return Object.values(e[t])})).sort(be)}));function ye(e,t,a){var n=O(ve,{entityId:e,type:t});return[n?n.value:a,y(me,e,t)]}var he={default:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"game/REPLACE":return de(0,t);case"gameCommands/SET":return pe(e,t);default:return e}},middleware:function(e){return function(t){return function(a){switch(t(a),a.type){case"game/COMPILE":return function(e,t){var a,n,r,c;return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getState(),n=ne(a),r=ge(a),t.next=5,P.a.awrap(B.post("/api/v1/players/".concat(n,"/compile"),r));case 5:c=t.sent,e.dispatch(d("Game compiled")),e.dispatch(J(c));case 8:case"end":return t.stop()}}))}(e);case"gameCommands/NEXT_PLAYER":return function(e,t){var a,n,r,c;return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getState(),n=ne(a),r=ge(a),t.next=5,P.a.awrap(B.put("/api/v1/players/".concat(n,"/next"),r));case 5:c=t.sent,e.dispatch(J(c));case 7:case"end":return t.stop()}}))}(e);case"gameCommands/SAVE":return function(e,t){var a,n,r;return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.getState(),n=ne(a),r=ge(a),t.next=5,P.a.awrap(B.put("/api/v1/players/".concat(n,"/commands"),r));case 5:e.dispatch(d("Game saved"));case 6:case"end":return t.stop()}}))}(e)}}}}};function Oe(e){return{type:"view/SET_VIEW",view:e}}function we(e,t){var a=t.view;return Object(L.a)({},e,{},a)}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{root:"Home"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"view/SET_VIEW":return we(e,t);default:return e}}var je=a(21),ke=a(16);function xe(){var e=Object(je.a)(["\n  cursor: pointer;\n  text-decoration: underline;\n  :hover {\n    color: var(--lightest);\n  }\n"]);return xe=function(){return e},e}var Ie=Object(ke.a)(xe());function Se(e){var t=e.children,a=e.view,n=e.className,c=void 0===n?null:n,l=y(Oe,a);return r.a.createElement("span",{className:Object(ke.b)(Ie,c),onClick:l},t)}function Le(e,t){return e.view[t]}var Te={alert:j,blog:W,game:oe,gameCommands:he,gameView:{middleware:function(e){return function(t){return function(a){switch(t(a),a.type){case"game/REPLACE":return function(e,t){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.dispatch(Oe({root:"Play",coordinates:null}));case 1:case"end":return t.stop()}}))}(e)}}}}},view:{default:Ce}},Ne=a(18),Pe=a(66),_e=a(67),Be=a.n(_e),Ge=a(68),Fe=a.n(Ge);var He=a(169),Ae=a(177);function Me(){var e=O(R),t=y(Oe,{root:"Home"}),a=y(x);return Object(n.useEffect)(a,[]),r.a.createElement(He.a,null,r.a.createElement("br",null),r.a.createElement(Ae.a,null,r.a.createElement(Ae.a.Item,{onClick:t},"Home"),r.a.createElement(Ae.a.Item,{active:!0},"Blog")),r.a.createElement("h1",null,"Latest news"),r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(Se,{view:{postId:e.id}},e.title))}))))}var De=a(170),Re=a(178),We=a(69),ze=a.n(We);function Ue(){var e=Object(je.a)(["\n  background: #ddd;\n  color: rgba(0, 0, 0, 0.8);\n  padding: 1.5rem;\n  background: linear-gradient(\n    45deg,\n    rgba(242, 246, 248, 1) 0%,\n    rgba(216, 225, 231, 1) 50%,\n    rgba(181, 198, 208, 1) 51%,\n    rgba(224, 239, 249, 1) 100%\n  );\n\n  p {\n    max-width: 30rem;\n  }\n  h1 {\n    font-size: 5rem;\n    color: #000;\n  }\n  h1 + p {\n    font-size: 2rem;\n    color: rgba(0, 0, 0, 0.5);\n    max-width: none;\n    line-height: 1.1;\n    font-weight: 300;\n  }\n  h2 {\n    font-size: 3rem;\n    margin-top: 3rem;\n    border-bottom: solid 0.1em rgba(0, 0, 0, 0.8);\n    text-transform: uppercase;\n  }\n  h3 {\n    font-size: 2rem;\n    margin-top: 2rem;\n  }\n  blockquote {\n    background: black;\n    background: linear-gradient(\n      45deg,\n      rgba(76, 76, 76, 1) 0%,\n      rgba(89, 89, 89, 1) 12%,\n      rgba(102, 102, 102, 1) 25%,\n      rgba(71, 71, 71, 1) 39%,\n      rgba(44, 44, 44, 1) 50%,\n      rgba(0, 0, 0, 1) 51%,\n      rgba(17, 17, 17, 1) 60%,\n      rgba(43, 43, 43, 1) 76%,\n      rgba(28, 28, 28, 1) 91%,\n      rgba(19, 19, 19, 1) 100%\n    );\n    border-radius: 0.25rem;\n    color: rgba(255, 255, 255, 0.8);\n    border: none;\n    padding: 0.75rem 1.5rem;\n    max-width: 33rem;\n  }\n  blockquote p:last-child {\n    margin-bottom: 0;\n  }\n"]);return Ue=function(){return e},e}var Ve=Object(ke.a)(Ue());function Xe(e){var t=e.postId,a=O(A,{postId:t}),c=y(Oe,{root:"Home"}),l=y(Oe,{postId:null}),o=y(k,t);Object(n.useEffect)(o,[]);var u=r.a.createElement(De.a,{variant:"link",onClick:l},"\xab Back to posts");return r.a.createElement(He.a,null,r.a.createElement("br",null),r.a.createElement(Ae.a,null,r.a.createElement(Ae.a.Item,{onClick:c},"Home"),r.a.createElement(Ae.a.Item,{onClick:l},"Blog"),r.a.createElement(Ae.a.Item,{active:!0},a.title)),r.a.createElement(Re.a,{body:!0,bg:"light",className:Ve},r.a.createElement(ze.a,{source:a.body,escapeHtml:!1})),u)}var Je=a(173);var qe={priority:1,type:"star",Command:function(e){var t=e.entity,a=O(re),c=ye(t.id,"BuildShip",""),l=Object(h.a)(c,2),o=l[0],u=l[1],i=Object(n.useCallback)((function(e){return u(e.target.value)}),[u]),s=ye(t.id,"BuildStarbase",""),m=Object(h.a)(s,2),d=m[0],p=m[1],f=Object(n.useCallback)((function(e){return p(e.target.value)}),[p]),E=ye(t.id,"BuildDroids",0),v=Object(h.a)(E,2),b=v[0],g=v[1],y=Object(n.useCallback)((function(e){return g(e.target.value)}),[g]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a.Body,null,r.a.createElement(Je.a.Group,{controlId:"newShipName"},r.a.createElement(Je.a.Label,null,"New ship name"),r.a.createElement(Je.a.Control,{type:"text",value:o,onChange:i,placeholder:"Ships name"})),r.a.createElement(Je.a.Group,{controlId:"newStarbaseName"},r.a.createElement(Je.a.Label,null,"New starbase name"),r.a.createElement(Je.a.Control,{type:"text",value:d,onChange:f,placeholder:"Starbases name"})),"droid"===a&&r.a.createElement(Je.a.Group,{controlId:"buildDroids"},r.a.createElement(Je.a.Label,null,"Build droids"),r.a.createElement(Je.a.Control,{value:b,onChange:y,placeholder:"Amount of droids"}))))},Description:function(e){var t=e.entity,a=t.name,n=t.population,c=t.maxPopulation,l=t.playerId,o=t.minerals,u=t.mineralsReserve;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a.Header,{"data-testid":"name",className:"bg-warning"},"\u25cf Star: ",r.a.createElement("span",null,a)),r.a.createElement(Re.a.Body,null,l&&r.a.createElement("div",{"data-testid":"owner"},r.a.createElement("strong",null,"Owner"),": ",l,"."),null!=n&&r.a.createElement("div",null,r.a.createElement("strong",null,"Population"),":"," ",r.a.createElement("span",{"data-testid":"population"},n),"/",r.a.createElement("span",{"data-testid":"maximum-population"},c)),null!=o&&r.a.createElement("div",null,r.a.createElement("strong",null,"Minerals"),":"," ",r.a.createElement("span",{"data-testid":"minerals-availability"},o),"[",r.a.createElement("span",{"data-testid":"minerals-reserve"},u),"]")))}},Ye=a(171);function $e(e){var t=ye(e.entity.id,"MoveShip"),a=Object(h.a)(t,2),c=a[0],l=a[1],o=Object(n.useCallback)((function(){return l("down")}),[l]),u=Object(n.useCallback)((function(){return l("up")}),[l]),i=Object(n.useCallback)((function(){return l("left")}),[l]),s=Object(n.useCallback)((function(){return l("right")}),[l]);return r.a.createElement(Re.a.Body,null,"Move ship:",r.a.createElement(Ye.a,null,r.a.createElement(De.a,{onClick:o,"data-testid":"go-down",active:"down"===c},"v"),r.a.createElement(De.a,{onClick:u,"data-testid":"go-up",active:"up"===c},"^"),r.a.createElement(De.a,{onClick:i,"data-testid":"go-left",active:"left"===c},"<"),r.a.createElement(De.a,{onClick:s,"data-testid":"go-right",active:"right"===c},">")))}var Ke=[qe,{priority:5,type:"ship",Command:function(e){var t=e.entity,a=ye(t.id,"LoadShip",0),c=Object(h.a)(a,2),l=c[0],o=c[1],u=Object(n.useCallback)((function(e){return o(e.target.value)}),[o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a.Body,null,r.a.createElement(Je.a.Group,{controlId:"shipLoad"},r.a.createElement(Je.a.Label,null,"Load"),r.a.createElement(Je.a.Control,{value:l,onChange:u,placeholder:"Amount of people"}))),r.a.createElement($e,{entity:t}))},Description:function(e){var t=e.entity,a=t.name,n=t.population,c=t.maxPopulation,l=t.fuel,o=t.maxFuel;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a.Header,{"data-testid":"name",className:"bg-primary"},"\u25b6 Ship: ",r.a.createElement("span",null,a)),r.a.createElement(Re.a.Body,null,null!=n&&r.a.createElement("div",null,r.a.createElement("strong",null,"Population"),":"," ",r.a.createElement("span",{"data-testid":"population"},n),"/",r.a.createElement("span",{"data-testid":"maximum-population"},c)),null!=l&&r.a.createElement("div",null,r.a.createElement("strong",null,"Fuel"),": ",r.a.createElement("span",{"data-testid":"fuel"},l),"/",r.a.createElement("span",{"data-testid":"total-fuel-capacity"},o))))}},{priority:1,type:"starbase",Command:function(e){var t=e.entity,a=ye(t.id,"BuildShip",""),c=Object(h.a)(a,2),l=c[0],o=c[1],u=Object(n.useCallback)((function(e){return o(e.target.value)}),[o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a.Body,null,r.a.createElement(Je.a.Group,{controlId:"newShipName"+t.id},r.a.createElement(Je.a.Label,null,"New ship name"),r.a.createElement(Je.a.Control,{type:"text",value:l,onChange:u,placeholder:"Ships name"}))))},Description:function(e){var t=e.entity,a=t.name,n=t.playerId,c=t.fuel,l=t.maxFuel;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a.Header,{"data-testid":"name",className:"bg-success"},"\u2314 Starbase: ",r.a.createElement("span",null,a)),r.a.createElement(Re.a.Body,null,n&&r.a.createElement("div",{"data-testid":"owner"},r.a.createElement("strong",null,"Owner"),": ",n,"."),null!=c&&r.a.createElement("div",null,r.a.createElement("strong",null,"Fuel"),": ",r.a.createElement("span",{"data-testid":"fuel"},c),"/",r.a.createElement("span",{"data-testid":"total-fuel-capacity"},l))))}}].sort((function(e,t){return e.priority-t.priority})),Qe=b(Ke,"type");function Ze(e){var t=e.entities;return r.a.createElement(r.a.Fragment,null,Ke.flatMap((function(e){return t.filter((function(t){return t.type===e.type})).map((function(e){return r.a.createElement(et,{entity:e,key:e.id})}))})))}function et(e){var t=e.entity,a=t.name,n=t.type,c=t.playerId,l=function(e){return Qe[e.type]}(t),o=l.Description,u=l.Command,i=O(ne);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{"data-testid":"".concat(n,"-").concat(a)},r.a.createElement(o,{entity:t}),c===i&&r.a.createElement(u,{entity:t})),r.a.createElement("br",null))}function tt(){var e=y(Oe,{coordinates:null}),t=O(Le,"coordinates"),a=O(Z,t);return Object(n.useMemo)((function(){return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("button",{onClick:e},"Back"),r.a.createElement(Ze,{entities:a}))}),[t,a,e])}var at=a(172),nt=a(70);function rt(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),a=t[0],c=t[1],l=Object(n.useCallback)((function(e){return c(e.target.value)}),[c]),o=y(U),u=Object(n.useCallback)((function(e){o(a),e.preventDefault()}),[o,a]);return r.a.createElement(He.a,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"Log in to play"),r.a.createElement("br",null),r.a.createElement(at.a,null,r.a.createElement(nt.a,{md:4},r.a.createElement(Je.a,{onSubmit:u},r.a.createElement(Je.a.Group,{controlId:"username"},r.a.createElement(Je.a.Label,null,"Username"),r.a.createElement(Je.a.Control,{type:"text",value:a,onChange:l,placeholder:"Enter username"})),r.a.createElement(De.a,{variant:"primary",type:"submit"},"Log in")))))}function ct(){var e=Object(je.a)(["\n  width: ","em;\n  height: ","em;\n  border: dashed 1px rgba(255, 255, 0, 0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  &.yours {\n    background: rgba(0, 128, 256, 0.3);\n  }\n\n  &.highlighted {\n    background: rgba(255, 255, 128, 0.3);\n  }\n"]);return ct=function(){return e},e}var lt=Object(ke.a)(ct(),5,4);function ot(e){var t=e.row,a=e.column,c=O(ee,{row:t,column:a}),l=O(Z,{row:t,column:a}),o=O(ne),u=y(Oe,{coordinates:{row:t,column:a}}),i=O(Le,"coordinates");return Object(n.useMemo)((function(){var e={width:"".concat(5,"em"),height:"".concat(4,"em"),left:"".concat(5*(a-1),"em"),top:"".concat(4*(t-1),"em"),position:"absolute"},n=[];c.starbase&&n.push(r.a.createElement("span",{"data-testid":"starbases",key:"starbases",className:"text-success"},"\u2314")),c.star&&n.push(r.a.createElement("span",{"data-testid":"star",key:"star",className:"text-warning"},"\u25cf")),c.ship&&n.push(r.a.createElement("span",{"data-testid":"ships",key:"ships",className:"text-primary"},"\u25b6"));var s=lt;return l.some((function(e){return e.playerId===o}))&&(s+=" yours"),i&&i.row===t&&i.column===a&&(s+=" highlighted"),r.a.createElement("div",{"data-testid":"".concat(t,",").concat(a),style:e,className:s,onClick:u,title:"".concat(t,",").concat(a)},n)}),[i,t,a,c,l,o,u])}function ut(){var e=O(te);return Object(n.useMemo)((function(){var t={width:"".concat(5*e.columns,"em"),height:"".concat(4*e.rows,"em"),position:"relative",background:"rgba(0,0,0,.1)",margin:"1em auto 0"};return r.a.createElement("div",{"data-testid":"map-of-the-game",style:t},g(1,e.rows).flatMap((function(t){return g(1,e.columns).map((function(e){return r.a.createElement(ot,{row:t,column:e,key:"".concat(t,",").concat(e)})}))})))}),[e])}var it=a(179);function st(e){var t=e.message,a=t.coordinates,n=t.text,c=y(Oe,{coordinates:a});return r.a.createElement(it.a.Item,{onClick:c},n)}function mt(){var e=O(ae);return Object(n.useMemo)((function(){return r.a.createElement(it.a,{"data-testid":"messages"},e.map((function(e,t){return r.a.createElement(st,{key:t,message:e})})))}),[e])}var dt=a(51);function pt(e){var t=e.index,a=e.setPlayers,c=e.players,l=c[t],o=Object(n.useCallback)((function(e){var n=Object(dt.a)(c);n[t]=Object(L.a)({},c[t],{},e),a(n)}),[c,t,a]),u=Object(n.useCallback)((function(e){return o({playerId:e.target.value})}),[o]),i=Object(n.useCallback)((function(e){return o({race:e.target.value})}),[o]),s="player".concat(t+1),m="race".concat(t+1);return r.a.createElement(at.a,null,r.a.createElement(nt.a,null,r.a.createElement(Je.a.Group,{controlId:s},r.a.createElement(Je.a.Label,null,"Player ",t+1),r.a.createElement(Je.a.Control,{type:"text",value:l.playerId,onChange:u,name:s,placeholder:"Enter the player alias"}))),r.a.createElement(nt.a,null,r.a.createElement(Je.a.Group,{controlId:m},r.a.createElement(Je.a.Label,null,"Race ",t+1),r.a.createElement(Je.a.Control,{as:"select",value:l.race,onChange:i,name:m},r.a.createElement("option",null,"Human"),r.a.createElement("option",null,"Reptilian"),r.a.createElement("option",null,"Droid")))))}function ft(){var e=O(ne),t=O(re),a=O(ce),n=y(ie),c=y(ue);return r.a.createElement(He.a,null,r.a.createElement(De.a,{onClick:n},"Next")," | ",r.a.createElement(De.a,{onClick:c},"Compile")," | ","Turn: ",r.a.createElement("span",{"data-testid":"current-turnNumber"},a)," | ","Player: ",r.a.createElement("span",{"data-testid":"current-playerId"},e)," | ","Race: ",r.a.createElement("span",{"data-testid":"current-race"},t))}var Et,vt,bt=(Et="root",(vt={Home:function(){return r.a.createElement(He.a,null,r.a.createElement("h1",null,"Welcome!"))},Play:function(){var e=O(le),t=O(Le,"coordinates");return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,null),r.a.createElement(at.a,null,r.a.createElement(nt.a,null,r.a.createElement(ut,null)),r.a.createElement(nt.a,null,!t&&r.a.createElement(mt,null),t&&r.a.createElement(tt,null)))):r.a.createElement(rt,null)},Game:function(){var e=O(ne),t=y(se),a=y(ue),n=y(V);return e?r.a.createElement(He.a,null,r.a.createElement(De.a,{onClick:t},"Save game"),r.a.createElement(De.a,{onClick:a},"Compile game"),r.a.createElement(De.a,{onClick:n},"Logout")):"There is no game loaded"},New:function(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),a=t[0],c=t[1],l=Object(n.useCallback)((function(e){return c(e.target.value)}),[]),o=Object(n.useState)([]),u=Object(h.a)(o,2),i=u[0],s=u[1],m=Object(n.useCallback)((function(){return s([].concat(Object(dt.a)(i),[{playerId:"",race:"Human"}]))}),[i]),d=y(X),p=Object(n.useCallback)((function(e){d(a,i),e.preventDefault()}),[d,a,i]);return r.a.createElement(He.a,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"Create a new universe"),r.a.createElement("br",null),r.a.createElement(at.a,null,r.a.createElement(nt.a,{md:4},r.a.createElement(Je.a,{onSubmit:p},r.a.createElement(Je.a.Group,{controlId:"mapCode"},r.a.createElement(Je.a.Label,null,"Map code"),r.a.createElement(Je.a.Control,{type:"text",value:a,onChange:l,name:a,placeholder:"Enter the map code"})),i.map((function(e,t){return r.a.createElement(pt,{key:t,index:t,setPlayers:s,players:i})})),r.a.createElement(De.a,{variant:"secondary",onClick:m},"Add player")," ",r.a.createElement(De.a,{variant:"primary",type:"submit"},"Create")))))},Blog:function(){var e=O(Le,"postId");return e?r.a.createElement(Xe,{postId:e}):r.a.createElement(Me,null)}}).null=vt.null||vt.undefined,vt.undefined=vt.undefined||vt.null,function(){var e=O(Le,Et),t=vt["".concat(e)]||function(e){return function(){return'Unknown view name "'.concat(e,'" for "').concat(Et,'".')}}(e);return r.a.createElement(t,null)});function gt(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt,null),r.a.createElement(Ot,null),r.a.createElement(w,null),t)}var yt=a(174),ht=a(176);function Ot(){var e=y(Oe,{root:"Home"}),t=y(Oe,{root:"Play"}),a=y(Oe,{root:"New"}),n=y(Oe,{root:"Blog"}),c=O(le),l=y(Oe,{root:"Game"});return r.a.createElement(yt.a,{bg:"light",expand:"lg","data-testid":"header"},r.a.createElement(He.a,null,r.a.createElement(yt.a.Brand,{onClick:e},"\u25cf\u25b6 PLANETS GAME"),r.a.createElement(yt.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(yt.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(ht.a,{className:"mr-auto"},r.a.createElement(ht.a.Link,{onClick:e},"Home"),r.a.createElement(ht.a.Link,{onClick:t},"Play"),c&&r.a.createElement(ht.a.Link,{onClick:l},"Game"),r.a.createElement(ht.a.Link,{onClick:a},"New"),r.a.createElement(ht.a.Link,{onClick:n},"Blog")))))}var wt=a(50);function Ct(){var e=Object(je.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  color: gray;\n  font-size: 85%;\n  z-index: 1000;\n"]);return Ct=function(){return e},e}var jt=Object(ke.a)(Ct());function kt(){return r.a.createElement("div",{className:jt},wt.name," (v",wt.version,")")}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xt=function(e,t){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne.compose,a=E(Be()(Te)),n=Fe()(Te);return Object(Ne.createStore)(a,e,t(Object(Ne.applyMiddleware)(Pe.a,n)))}(e,t);return function(){return r.a.createElement(o.a,{store:a},r.a.createElement(gt,null,r.a.createElement(bt,null)))}}(void 0,window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25}));l.a.render(r.a.createElement(xt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},50:function(e){e.exports=JSON.parse('{"name":"planets-game-origin-202001","version":"1.2.0","private":true,"dependencies":{"bootswatch":"^4.4.1","chalk":"^3.0.0","ducks-middleware":"^1.0.2","ducks-reducer":"^1.0.4","emotion":"^10.0.27","object-map":"^1.0.2","react":"^16.12.0","react-bootstrap":"^1.0.0-beta.16","react-dom":"^16.12.0","react-markdown":"^4.3.1","react-redux":"^7.1.3","react-scripts":"3.3.0","redux":"^4.0.5","redux-thunk":"^2.3.0","reselect":"^4.0.0"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@testing-library/dom":"^6.11.0","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^8.0.3","@types/jest":"^24.9.0","escape-string-regexp":"^2.0.0","pretty-format":"^24.9.0","typescript":"^3.7.4"},"prettier":{"trailingComma":"all"},"engines":{"node":">=12.10.0"},"proxy":"http://localhost:8080"}')},74:function(e,t,a){e.exports=a(167)},79:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.15d14cbc.chunk.js.map